<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Breathe â€¢ Enigma</title>

  <!-- IMPORTANT: correct path + cache-bust -->
  <link rel="stylesheet" href="/Enigma-/style.css?v=6001">
</head>

<body class="page-wrap">
  <!-- Night mode button (optional) -->
  <button id="themeFab" class="theme-toggle-top" type="button" aria-label="Toggle night mode">ğŸŒ™</button>

  <header class="page-header">
    <button class="back-btn" type="button" onclick="enigmaBack()" aria-label="Back">â†</button>
    <h1>Breathe</h1>
    <p>Follow the rhythm</p>
  </header>

  <main class="page">
    <div class="card">
      <div class="breathe-area">
        <div class="breathe-text" id="breatheLabel">Inhale</div>

        <div class="breathe-circle-wrap">
          <div class="breathe-circle" id="breatheCircle" aria-hidden="true"></div>
        </div>

        <button class="primary" type="button" onclick="markBreatheDone()">Completed</button>
        <div class="gentle-text" id="breatheDoneMsg">Take your time.</div>
      </div>
    </div>
  </main>

  <nav class="bottom-nav">
    <a href="/Enigma-/index.html"><div class="nav-ico">ğŸ </div><span>Home</span></a>
    <a class="active" href="/Enigma-/breathe.html"><div class="nav-ico">ğŸŒ¬ï¸</div><span>Breathe</span></a>
    <a href="/Enigma-/journal.html"><div class="nav-ico">ğŸ“–</div><span>Journal</span></a>
    <a href="/Enigma-/quotes.html"><div class="nav-ico">ğŸ’¬</div><span>Quotes</span></a>
    <a href="/Enigma-/game.html"><div class="nav-ico">ğŸ¨</div><span>Colour</span></a>
    <a href="/Enigma-/sounds.html"><div class="nav-ico">ğŸ§</div><span>Sounds</span></a>
    <a href="/Enigma-/progress.html"><div class="nav-ico">ğŸ“ˆ</div><span>Progress</span></a>
  </nav>

  <!-- If you have app.js, keep it. If you don't, the inline script below still runs. -->
  <script src="/Enigma-/app.js?v=6001"></script>

  <!-- Label changes in sync with the 10s circle animation -->
  <script>
    // fallback if app.js isn't present
    window.enigmaBack = window.enigmaBack || function(){
      if (history.length > 1) history.back();
      else location.href = "/Enigma-/index.html";
    };
    window.markBreatheDone = window.markBreatheDone || function(){
      const today = new Date().toISOString().split("T")[0];
      localStorage.setItem("enigmaBreatheDone", today);
      const msg = document.getElementById("breatheDoneMsg");
      if (msg) msg.textContent = "Saved âœ… Well done.";
    };

    const label = document.getElementById("breatheLabel");
    function loopLabels(){
      if(!label) return;
      label.textContent = "Inhale";
      setTimeout(()=> label.textContent="Hold", 4000);
      setTimeout(()=> label.textContent="Exhale", 6000);
    }
    loopLabels();
    setInterval(loopLabels, 10000);
  </script>
</body>
</html>
